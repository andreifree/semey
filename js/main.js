let btn=document.querySelector(".show-btn"),textBlock=document.querySelector(".journal-content__body"),menu=(btn&&btn.addEventListener("click",function(){textBlock.classList.toggle("show"),textBlock.classList.contains("show")?btn.textContent="Скрыть":btn.textContent="Читать далее"}),document.getElementById("main-navigation")),header=document.querySelector("header"),headerHeight,menuOffsetTop,languageDropdownBtn=(menu&&(headerHeight=header.offsetHeight,menuOffsetTop=menu.offsetTop),window.addEventListener("scroll",()=>{window.scrollY>=menuOffsetTop-headerHeight?(menu.classList.add("fixed"),menu.style.top=headerHeight+"px"):(menu.classList.remove("fixed"),menu.style.top="")}),document.querySelector(".dropdown-btn")),bodyLockStatus=(languageDropdownBtn&&document.addEventListener("click",function(e){e.target.closest(".dropdown-btn")?document.documentElement.classList.toggle("lang-open"):document.documentElement.classList.remove("lang-open")}),!0),bodyLockToggle=(e=500)=>{(document.documentElement.classList.contains("lock")?bodyUnlock:bodyLock)(e)},bodyUnlock=(e=500)=>{let n=document.querySelector("body");if(bodyLockStatus){let t=document.querySelectorAll("[data-lp]");setTimeout(()=>{for(let e=0;e<t.length;e++)t[e].style.paddingRight="0px";n.style.paddingRight="0px",document.documentElement.classList.remove("lock")},e),bodyLockStatus=!1,setTimeout(function(){bodyLockStatus=!0},e)}},bodyLock=(e=500)=>{var t=document.querySelector("body");if(bodyLockStatus){var n=document.querySelectorAll("[data-lp]");for(let e=0;e<n.length;e++)n[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";t.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",document.documentElement.classList.add("lock"),bodyLockStatus=!1,setTimeout(function(){bodyLockStatus=!0},e)}};function menuInit(){document.querySelector(".icon-menu")&&(document.addEventListener("click",function(e){bodyLockStatus&&e.target.closest(".icon-menu")&&(bodyLockToggle(),document.documentElement.classList.toggle("menu-open"))}),document.addEventListener("click",function(e){bodyLockStatus&&e.target.closest(".burger-actions__close")&&(bodyLockToggle(),document.documentElement.classList.toggle("menu-open"))}))}function menuOpen(){bodyLock(),document.documentElement.classList.add("menu-open")}function menuClose(){bodyUnlock(),document.documentElement.classList.remove("menu-open")}menuInit();class DynamicAdapt{constructor(e){this.type=e}init(){this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=[...document.querySelectorAll("[data-da]")],this.nodes.forEach(e=>{var t=e.dataset.da.trim().split(","),n={};n.element=e,n.parent=e.parentNode,n.destination=document.querySelector(""+t[0].trim()),n.breakpoint=t[1]?t[1].trim():"767",n.place=t[2]?t[2].trim():"last",n.index=this.indexInParent(n.parent,n.element),this.оbjects.push(n)}),this.arraySort(this.оbjects),this.mediaQueries=this.оbjects.map(({breakpoint:e})=>`(${this.type}-width: ${e}px),`+e).filter((e,t,n)=>n.indexOf(e)===t),this.mediaQueries.forEach(e=>{e=e.split(",");let t=window.matchMedia(e[0]),n=e[1],o=this.оbjects.filter(({breakpoint:e})=>e===n);t.addEventListener("change",()=>{this.mediaHandler(t,o)}),this.mediaHandler(t,o)})}mediaHandler(e,t){e.matches?t.forEach(e=>{this.moveTo(e.place,e.element,e.destination)}):t.forEach(({parent:e,element:t,index:n})=>{t.classList.contains(this.daClassname)&&this.moveBack(e,t,n)})}moveTo(e,t,n){t.classList.add(this.daClassname),"last"===e||e>=n.children.length?n.append(t):"first"===e?n.prepend(t):n.children[e].before(t)}moveBack(e,t,n){t.classList.remove(this.daClassname),void 0!==e.children[n]?e.children[n].before(t):e.append(t)}indexInParent(e,t){return[...e.children].indexOf(t)}arraySort(e){"min"===this.type?e.sort((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:0:e.breakpoint-t.breakpoint):e.sort((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:0:t.breakpoint-e.breakpoint)}}let da=new DynamicAdapt("max");da.init();